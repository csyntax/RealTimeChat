@{
    ViewBag.Title = "Home Page";
}
<form>
    <input type="text" id="message" />
    <input type="hidden" id="displayname" />
    <input type="button" id="sendmessage" value="Send" />
</form>

<ul id="discussion"></ul>

<script>
            $(function () {
                var chat = $.connection.chatHub;

                chat.client.broadcastMessage = function (name, message) {
                    var encodedName = $("<div />").text(name).html();
                    var encodedMsg = $("<div />").text(message).html();

                    $("#discussion").append("<li><strong>" + encodedName + "</strong>:&nbsp;&nbsp;" + encodedMsg + "</li>");
                };

                $("#displayname").val(prompt("Enter your name:", ""));
                $("#message").focus();

                $.connection.hub.start().done(function () {
                    $("#sendmessage").click(function () {
                        chat.server.send($("#displayname").val(), $("#message").val());

                        $("#message").val("").focus();
                    });
                });
            });
</script>